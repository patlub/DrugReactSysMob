<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title></title>
    <link href="css/style.css" type="text/css" rel="stylesheet">
    <link href="jquery/jquery.mobile-1.4.5.min.css" rel="stylesheet"/>
    <script src="jquery/jquery-latest.min.js" type="text/javascript"></script>
    <script src="jquery/jquery-ui.js" type="text/javascript"></script>
    <script src="jquery/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script src="jquery/jquery.mobile-1.4.5.min.js" type="text/javascript"></script>
    <link href="jquery-mobile-slide-menu.css" rel="stylesheet"/>
    <script src="jquery-mobile-slide-menu.js" type="text/javascript"></script>
    <script type="text/javascript">

        var loginEmail = null;
        var email = null;
        var password = null;
        var passwordReg = null;
        var firstName = null;
        var lastName = null;
        var confirm = null;
        var loginFormVar = null;
        var loginPopup = null

        confirmationVar = null;
        hdrConfirmationVar = null;
        contentConfirmationVar = null;
        ftrConfirmationVar = null;

        //constants
        var EMPTY = "";
        var MISSING = "missing";
    </script>

</head>
<body>

<div id="side-menu">
    <ul>
        <li><a href="" style="color: firebrick; font-weight: bolder;">Menu</a><span class="icon"></span></li>
        <li><a href="#homePage" data-transition="slide" data-icon="grid">Home</a><span class="icon"></span></li>
        <li><a href="#drugRequests" data-transition="slide" data-icon="grid">Drug Requests</a></li>
        <li><a href="#drugReports" data-transition="slide" data-icon="grid">Drug Reports</a></li>
    </ul>
</div>

<div data-role="page" id="homePage" data-theme="b">
    <div data-role="header">
        <a href="#" class="showMenu" data-role="button" data-icon="grid" data-iconpos="notext">Menu</a>
        <h3>Home</h3>
    </div>

    <div data-role="content">
        <a href="#checkDrugPopup" data-rel="popup" data-transition="slideup"><div style="height: 50px;">Check Drug</div></a>
        <a href="#loginPopup" data-rel="popup" data-transition="slideup"><div style="height: 50px;">Please Login</div></a>
    </div>

    <div data-role="popup" id="checkDrugPopup" class="ui-content" data-position-to="window" data-theme="b">
        <form>
            <div data-role="header">
                <h2>Select Drug</h2>
            </div>
            <div data-role="content">
                <label for="selectDrug">Select Drug</label>
                <select id="selectDrug" name="selectDrug">
                    <option>fhgfhgf</option>
                    <option>bbnmbnb</option>
                    <option>jjbhbjhbjh</option>
                    <option>bbmnbmnb</option>
                    <option>jhhjhhj</option>
                </select>
                <input type="submit" value="check" id="checkDrugButton" data-inline="true"/>
            </div>
        </form>
    </div>

    <div data-role="popup" id="loginPopup" data-position-to="window" data-theme="b">
        <div data-role="header" id="hdrMain">
            <h1>Login</h1>
        </div>
        <div data-role="content">
            <form id="loginForm" action="http://localhost/DrugreactSysWeb/Php/login.php">
                <div id="usernameDiv" data-role="fieldcontain">
                    <input type="text" id="loginEmail" name="loginEmail" placeholder="Email"/>
                </div>
                <div id="passwordDiv" data-role="fieldcontain">
                    <input type="password" id="password" name="password" placeholder="Password"/>
                </div>
                <div id="submitDiv" data-role="fieldcontain">
                    <input type="submit" id="login" name="login" value="Login" data-inline="true"/>
                    <a href="#registerPage" data-transition="flow">Sign up now</a>
                </div>

            </form>
        </div>
    </div>

    <script type="text/javascript">

        $('#loginForm').submit(function(e) {

            var $this = $(this);
            e.preventDefault();

            var err = false;
            if (loginEmail.val() == null || loginEmail.val() == EMPTY) {
                loginEmail.addClass(MISSING);
                err = true;
            }
            if (password.val() == null || password.val() == EMPTY) {
                password.addClass(MISSING);
                err = true;
            }
            if (err == true) {
                return false;
            }

            $.post($this.attr('action'), $this.serialize(), function(data){
                loginPopup.hide();
                document.write(data);

            });
             return false;
        });
    </script>
</div>

<div data-role="page" id="registerPage" data-theme="b">
    <div data-role="header" id="hdrReg">
        <a href="#" class="showMenu" data-role="button" data-icon="grid" data-iconpos="notext">Menu</a>
        <h1>Drug Reaction</h1>
    </div>
        <div data-role="content">
        <form id="registrationForm" action="http://localhost/DrugreactSysWeb/Php/register.php">
            <div id="firstnameDiv" data-role="fieldcontain">
                <input type="text" id="firstName" name="firstname" placeholder="First Name" />
            </div>
            <div id="lastnameDiv" data-role="fieldcontain">
                <input type="text" id="lastName" name="lastname" placeholder="Last Name"/>
            </div>
            <div id="emailDiv" data-role="fieldcontain">
                <input type="text" id="email" name="email" placeholder="Email Address"/>
            </div>
            <div id="passwordregDiv" data-role="fieldcontain">
                <input type="password" id="passwordReg" name="passwordreg" placeholder="Password"/>
            </div>
            <div id="confirmDiv" data-role="fieldcontain">
                <input type="password" id="confirm" name="confirm" placeholder="Confirm Password"/>
            </div>
            <div id="registerDiv" data-role="fieldcontain">
                <input type="submit" id="register" name="register" value="Register" data-inline="true"/>
            </div>
        </form>

    </div>

    <div data-role="footer">

    </div>

    <script type="text/javascript">
        $('#registrationForm').submit(function(event) {
            var $this = $(this);
            event.preventDefault();

            var err = false;
            if(firstName.val() == null || firstName.val() == EMPTY){
                firstName.addClass(MISSING);
                err = true;
            }
            if(lastName.val() == null || lastName.val() == EMPTY){
                lastName.addClass(MISSING);
                err = true;
            }
            if (email.val() == null || email.val() == EMPTY) {
                email.addClass(MISSING);
                err = true;
            }
            if (passwordReg.val() == null || passwordReg.val() == EMPTY) {
                passwordReg.addClass(MISSING);
                err = true;
            }
            if(confirm.val() == null || confirm.val() == EMPTY){
                confirm.addClass(MISSING);
                err = true;
            }
            if (err == true) {
                return false;
            }
            $.post($this.attr('action'), $this.serialize(), function(data){
                //loginPopup.hide();
                document.write(data);

            });
            return false;
        });

    </script>
</div>

<div data-role="page" id="drugRequests" data-theme="b">
    <div data-role="header">
        <h3>Drug Requests</h3>
        <a href="#" class="showMenu" data-role="button" data-icon="grid" data-iconpos="notext">Menu</a>
    </div>

    <div data-role="content">
        <a href="#requestDrugPopup" data-rel="popup" data-transition="slideup" data-icon="grid">Request Drug</a>
    </div>
    <div data-role="footer">

    </div>
    <div data-role="popup" id="requestDrugPopup" class="" data-position-to="window" data-theme="b">
        <form>
            <div data-role="header">
                <h2>Drug Requests</h2>
            </div>
            <div data-role="content">
                <input type="text" id="enterSickness" name="enterSickness" placeholder="Enter Sickness"/>
                <textarea id="requestEnterSigns" name="requestEnterSigns" placeholder="Signs"></textarea>
                <textarea id="requestEnterSymptoms" name="requestEnterSymptoms" placeholder="Symptoms"></textarea>
                <input type="text" id="sicknessPeriod" name="sicknessPeriod" placeholder="Period Of Sickness"/>
                <input type="submit" value="Send Request" id="requestDrugButton" data-inline="true"/>
            </div>
        </form>
    </div>
</div>

<div data-role="page" id="drugReports" data-theme="b">
    <div data-role="header">
        <a href="#" class="showMenu" data-role="button" data-icon="grid" data-iconpos="notext">Menu</a>
        <h3>Drug Reports</h3>
    </div>


    <div data-role="content">
        <a href="#reportDrugPage"  data-transition="slide" data-icon="grid">Report Drug</a>

    </div>
    <div data-role="footer">

    </div>
</div>

<div data-role="page" id="reportDrugPage" data-theme="b">
    <form>
        <div data-role="header">
            <a href="#" class="showMenu" data-role="button" data-icon="grid" data-iconpos="notext">Menu</a>
            <h2>Report Drug</h2>
        </div>
        <div data-role="content">
            <input type="text" id="enterDrugName" name="enterDrugName" placeholder="Enter Drug Name"/>
            <input type="text" id="reportEntersickness" name="reportEnterSickness" placeholder="Enter Sickness"/>
            <input type="text" id="dosage" name="dosage" placeholder="Enter Dosage(Days)"/>
            <textarea id="reportEnterSigns" name="reportEnterSigns" placeholder="(Side Effects)Signs"></textarea>
            <textarea id="reportSymptoms" name="reportSymptoms" placeholder="(Side Effects)Symptoms"></textarea>
            <input type="text" id="reportMedicationPeriod" name="reportMedicationPeriod" placeholder="Period Of Medication"/>
            <input type="button" value="Send Report" id="reportDrugButton" data-inline="true"/>

        </div>
    </form>

</div>
<script type="text/javascript">
    $(document).ready(function(){
        loginEmail = $('#loginEmail');
        firstName = $('#firstName');
        lastName = $('#lastName');
        email= $('#email');
        password = $('#password');
        confirm = $('#confirm');
        passwordReg = $('#passwordReg');
        loginFormVar = $('#loginForm');
        loginPopup = $('#loginPopup');

    });

    $(function(){
        $('#side-menu').slideMenu();
    });

</script>
</body>
</html>