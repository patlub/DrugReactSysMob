<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title></title>
    <link href="css/style.css" type="text/css" rel="stylesheet">
    <link href="jquery/jquery.mobile-1.4.5.min.css" rel="stylesheet"/>
    <script src="jquery/jquery-latest.min.js" type="text/javascript"></script>
    <script src="jquery/jquery-ui.js" type="text/javascript"></script>
    <script src="jquery/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script src="jquery/jquery.mobile-1.4.5.min.js" type="text/javascript"></script>
    <link href="jquery-mobile-slide-menu.css" rel="stylesheet"/>
    <link href="validate/css/screen.css" rel="stylesheet">
    <script src="jquery-mobile-slide-menu.js" type="text/javascript"></script>
    <script type="text/javascript" src="validate/dist/jquery.validate.min.js"></script>
    <script type="text/javascript">

        var passwordReg = null;
        var confirm = null;
//        //constants
        var EMPTY = "";
        var MISSING = "missing";
    </script>

</head>
<body>

<div id="side-menu">
    <ul>
        <li><a href="" style="color: firebrick; font-weight: bolder;">Menu</a><span class="icon"></span></li>
        <li><a href="#homePage" data-transition="slide" data-icon="grid">Home</a><span class="icon"></span></li>
        <li><a href="#drugRequests" data-transition="slide" data-icon="grid">Drug Requests</a></li>
        <li><a href="#drugReports" data-transition="slide" data-icon="grid">Drug Reports</a></li>
    </ul>
</div>

<div data-role="page" id="homePage" data-theme="b">
    <div data-role="header">
        <a href="#" class="showMenu" data-role="button" data-icon="grid" data-iconpos="notext">Menu</a>
        <h3>Home</h3>
    </div>

    <div data-role="content">
        <a href="#checkDrugPopup" data-rel="popup" data-transition="slideup"><div style="height: 50px;">Check Drug</div></a>
        <a href="#loginPopup" data-rel="popup" data-transition="slideup"><div style="height: 50px;">Please Login</div></a>
    </div>

    <div data-role="popup" id="checkDrugPopup" class="ui-content" data-position-to="window" data-theme="b">
        <form>
            <div data-role="header">
                <h2>Select Drug</h2>
            </div>
            <div data-role="content">
                <label for="selectDrug">Select Drug</label>
                <select id="selectDrug" name="selectDrug">
                    <option>fhgfhgf</option>
                    <option>bbnmbnb</option>
                    <option>jjbhbjhbjh</option>
                    <option>bbmnbmnb</option>
                    <option>jhhjhhj</option>
                </select>
                <input type="submit" value="check" id="checkDrugButton" data-inline="true"/>
            </div>
        </form>
    </div>

    <div data-role="popup" id="loginPopup" data-position-to="window" data-theme="b">
        <div data-role="header" id="hdrMain">
            <h1>Login</h1>
        </div>
        <div data-role="content">
            <form id="loginForm" action="http://localhost/DrugreactSysWeb/Php/login.php">
                <div id="usernameDiv" data-role="fieldcontain">
                    <input type="email" id="loginEmail" name="loginEmail" placeholder="Email" required/>
                </div>
                <div id="passwordDiv" data-role="fieldcontain">
                    <input type="password" id="password" name="password" placeholder="Password" minlength="5"  required/>
                </div>
                <div id="submitDiv" data-role="fieldcontain">
                    <input type="submit" id="login" name="login" value="Login" data-inline="true"/>
                    <a href="#registerPage" data-transition="flow">Sign up now</a>
                </div>

            </form>
        </div>
    </div>

    <script type="text/javascript">

        $('#loginForm').submit(function(e) {

            var $this = $(this);
            e.preventDefault();

            $.post($this.attr('action'), $this.serialize(), function(data){
                loginPopup.hide();
                document.write(data);

            });
             return false;
        });
    </script>
</div>

<div data-role="page" id="registerPage" data-theme="b">
    <div data-role="header" id="hdrReg">
        <a href="#" class="showMenu" data-role="button" data-icon="grid" data-iconpos="notext">Menu</a>
        <h1>Drug Reaction</h1>
    </div>
        <div data-role="content">
        <form id="registrationForm" action="http://localhost/DrugreactSysWeb/Php/register.php">
            <div id="firstnameDiv" data-role="fieldcontain">
                <input type="text" id="firstName" name="firstname" placeholder="First Name" required />
            </div>
            <div id="lastnameDiv" data-role="fieldcontain">
                <input type="text" id="lastName" name="lastname" placeholder="Last Name" required />
            </div>
            <div id="emailDiv" data-role="fieldcontain">
                <input type="email" id="email" name="email" placeholder="Email Address" required />
            </div>
            <div id="passwordregDiv" data-role="fieldcontain">
                <input type="password" id="passwordReg" name="passwordreg" placeholder="Password" minlength="5" required />
            </div>
            <div class='errorToast' style='display:none'>Password fields don't match</div>
            <div id="confirmDiv" data-role="fieldcontain">
                <input type="password" id="confirm" name="confirm" placeholder="Confirm Password" minlength="5" equalTo="passwordReg" required />
            </div>

            <div id="registerDiv" data-role="fieldcontain">
                <input type="submit" id="register" name="register" value="Register" data-inline="true"/>
            </div>
        </form>


    </div>

    <div data-role="footer">

    </div>

    <script type="text/javascript">
        $('#registrationForm').submit(function(event) {
            var $this = $(this);
            event.preventDefault();

            var err = false;
            if(confirm.val() != passwordReg.val()){
                passwordReg.addClass(MISSING);
                confirm.addClass(MISSING);
                $('.errorToast').fadeIn(400).delay(2000).fadeOut(400); //fade out after 3 seconds
                err = true;
            }

            if(err == true){
                return false;
            }

            $.post($this.attr('action'), $this.serialize(), function(data){
                //loginPopup.hide();
                document.write(data);

            });
            return false;
        });

    </script>
</div>

<div data-role="page" id="drugRequests" data-theme="b">
    <div data-role="header">
        <h3>Drug Requests</h3>
        <a href="#" class="showMenu" data-role="button" data-icon="grid" data-iconpos="notext">Menu</a>
    </div>

    <div data-role="content">
        <a href="#requestDrugPopup" data-rel="popup" data-transition="slideup" data-icon="grid">Request Drug</a>
    </div>
    <div data-role="footer">

    </div>
    <div data-role="popup" id="requestDrugPopup" class="" data-position-to="window" data-theme="b">
        <form id="requestDrugForm" action="http://localhost/DrugreactSysWeb/Php/request.php">
            <div data-role="header">
                <h2>Drug Requests</h2>
            </div>
            <div data-role="content">
                <input type="text" id="enterSickness" name="enterSickness" placeholder="Enter Sickness" required/>
                <textarea id="requestEnterSigns" name="requestEnterSigns" placeholder="Signs"></textarea>
                <textarea id="requestEnterSymptoms" name="requestEnterSymptoms" placeholder="Symptoms"></textarea>
                <input type="text" id="sicknessPeriod" name="sicknessPeriod" placeholder="Period Of Sickness" required/>
                <input type="submit" value="Send Request" id="requestDrugButton" data-inline="true"/>
            </div>
        </form>
    </div>
    <script type="text/javascript">
        $('#requestDrugForm').submit(function(event){
            var $this = $(this);
            event.preventDefault();

            $.post($this.attr('action'),$this.serialize(),function(data){

            });
            return false;
        });

    </script>
</div>

<div data-role="page" id="drugReports" data-theme="b">
    <div data-role="header">
        <a href="#" class="showMenu" data-role="button" data-icon="grid" data-iconpos="notext">Menu</a>
        <h3>Drug Reports</h3>
    </div>


    <div data-role="content">
        <a href="#reportDrugPage"  data-transition="slide" data-icon="grid">Report Drug</a>

    </div>
    <div data-role="footer">

    </div>
</div>

<div data-role="page" id="reportDrugPage" data-theme="b">
        <div data-role="header">
            <a href="#" class="showMenu" data-role="button" data-icon="grid" data-iconpos="notext">Menu</a>
            <h2>Report Drug</h2>
        </div>
        <div data-role="content">
            <form id="reportDrugForm">
            <input type="text" id="enterDrugName" name="enterDrugName" placeholder="Enter Drug Name" required/>
            <input type="text" id="reportSickness" name="reportEnterSickness" placeholder="Enter Sickness"required/>
            <input type="text" id="dosage" name="dosage" placeholder="Enter Dosage(Days)" required/>
            <textarea id="reportSigns" name="reportSigns" placeholder="(Side Effects)Signs, Enter none if noy any"></textarea>
            <textarea id="reportSymptoms" name="reportSymptoms" placeholder="(Side Effects)Symptoms, Enter none if noy any"></textarea>
            <input type="text" id="reportMedicationPeriod" name="reportMedicationPeriod" placeholder="Period Of Medication" required/>
            <input type="submit" value="Send Report" id="reportDrugButton" data-inline="true"/>
            </form>

        </div>

    <script type="text/javascript">
        $('#reportDrugForm').submit(function(event){
            var $this =$(this);
            event.preventDefault();
            $.post($this.attr('action'),$this.serialize(),function(data){

            });
            return false;

        });

    </script>
</div>
<script type="text/javascript">

        passwordReg = $('#passwordReg');
        confirm = $('#confirm');

    $(function(){
        $('#side-menu').slideMenu();
    });

</script>
</body>
</html>